<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Posts</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.0/css/bulma.min.css">
  </head>
  <body>
    <section class="section">
      <div class="container mb-5">
        <h1 class="title">
          Search Posts
        </h1>
        <!-- Предзаполнение поля поиска -->
        <form method="GET">
          <div class="field has-addons">
            <div class="control">
              <input class="input" type="text" placeholder="Find a post" name="q" value="{{ request.GET.q }}">
            </div>
            <div class="control">
              <button class="button is-info">
                Search
              </button>
            </div>
          </div>
        </form>
      </div>

      <div class="container">
        <!-- Проверка наличия постов -->
        {% if posts %}
          <!-- Перебор найденных постов -->
          {% for post in posts %}
            <article class="media">
              <div class="media-content">
                <div class="content">
                  <p>
                    <strong>{{ post.title }}</strong>
                    <br />
                    {{ post.content }}
                  </p>
                </div>
              </div>
            </article>
          {% endfor %}
        {% else %}
          <!-- Сообщение, если постов нет -->
          <p>No posts found matching your search query.</p>
        {% endif %}
      </div>
    </section>
  </body>
</html>
